<!-- Improved compatibility of back to top link: See: https://github.com/othneildrew/Best-README-Template/pull/73 -->
<a id="readme-top"></a>



<!-- LANGUAGE SWITCHER -->
<div align="right">
  <strong>Язык:</strong> <a href="README.en.md">English</a> | <a href="README.md">Русский</a>
</div>



<!-- PROJECT SHIELDS -->
<!--
*** I'm using markdown "reference style" links for readability.
*** Reference links are enclosed in brackets [ ] instead of parentheses ( ).
*** See the bottom of this document for the declaration of the reference variables
*** for contributors-url, forks-url, etc. This is an optional, concise syntax you may use.
*** https://www.markdownguide.org/basic-syntax/#reference-style-links
-->




<!-- PROJECT LOGO -->
<br />
<div align="center">
  <h3 align="center">Django Film Manager</h3>

  <p align="center">
    Простое Django приложение для управления списком фильмов
    <br />
  </p>
</div>



<!-- TABLE OF CONTENTS -->
<details>
  <summary>Содержание</summary>
  <ol>
    <li>
      <a href="#о-проекте">О проекте</a>
      <ul>
        <li><a href="#используемые-технологии">Используемые технологии</a></li>
      </ul>
    </li>
    <li>
      <a href="#начало-работы">Начало работы</a>
      <ul>
        <li><a href="#требования">Требования</a></li>
        <li><a href="#установка">Установка</a></li>
      </ul>
    </li>
    <li><a href="#использование">Использование</a></li>
    <li><a href="#план-развития">План развития</a></li>
    <li><a href="#вклад-в-проект">Вклад в проект</a></li>
    <li><a href="#лицензия">Лицензия</a></li>
    <li><a href="#контакты">Контакты</a></li>
    <li><a href="#благодарности">Благодарности</a></li>
  </ol>
</details>



<!-- ABOUT THE PROJECT -->
## О проекте

![Превью](static/images/3g.webp)

Django Film Manager - это простое веб-приложение на Django для управления списком фильмов. Проект демонстрирует базовую функциональность CRUD операций с использованием Django framework.

### Цели и задачи проекта

**Цели:**
* Создать простое и функциональное веб-приложение для управления списком фильмов
* Продемонстрировать базовые возможности Django framework
* Реализовать систему аутентификации и авторизации пользователей
* Обеспечить безопасность приложения на всех уровнях

**Ключевые задачи:**
* Разработать модель данных для хранения информации о фильмах
* Создать пользовательский интерфейс для просмотра и добавления фильмов
* Реализовать систему входа и выхода пользователей
* Настроить админ-панель для управления данными
* Внедрить валидацию данных на уровне модели и формы
* Обеспечить защиту от XSS атак и других уязвимостей
* Реализовать rate limiting для защиты от злоупотреблений
* Настроить логирование событий безопасности
* Создать кастомную команду для быстрого создания тестового пользователя

### Результаты

**Реализованная функциональность:**
* Просмотр списка фильмов (доступно всем пользователям)
* Добавление новых фильмов (требуется авторизация)
* Система аутентификации пользователей
* Админ-панель для управления данными
* Валидация данных на уровне модели и формы
* Защита от XSS атак и других уязвимостей
* Rate limiting для защиты от злоупотреблений
* Логирование безопасности

**Созданные компоненты:**
* Django приложение `films` для работы с фильмами
* Модель `Film` с полями: название, описание и отзыв
* HTML страницы: список фильмов и форма добавления
* Базовый шаблон с навигацией и улучшенным дизайном
* Кастомная команда для создания тестового суперпользователя

<p align="right">(<a href="#readme-top">back to top</a>)</p>



### Используемые технологии

Основные технологии и библиотеки, используемые в проекте:

* [![Django][Django-badge]][Django-url]
* [![Python][Python-badge]][Python-url]

Дополнительные зависимости:
* `python-decouple==3.8` - для управления настройками через переменные окружения
* `django-ratelimit==4.1.0` - для ограничения частоты запросов
* `django-bleach==3.1.0` и `bleach>=5.0.0,<6.0.0` - для санитизации HTML контента

<p align="right">(<a href="#readme-top">back to top</a>)</p>



<!-- GETTING STARTED -->
## Начало работы

Инструкции по установке и запуску проекта локально.

### Требования

Для работы с проектом необходимо установить:

* Python 3.x
  ```sh
  # Проверьте версию Python
  python --version
  ```

### Установка

Ниже приведены инструкции по установке и настройке приложения.

1. Клонируйте репозиторий
   ```sh
   git clone https://github.com/your_username/repo_name.git
   cd Simpliest-Django-item-list
   ```

2. Создайте виртуальное окружение (рекомендуется)
   ```sh
   python -m venv venv
   # Windows
   venv\Scripts\activate
   # Linux/Mac
   source venv/bin/activate
   ```

3. Установите зависимости
   ```sh
   pip install -r requirements.txt
   ```

4. Примените миграции
   ```sh
   python manage.py migrate
   ```

5. Создайте тестового суперпользователя
   ```sh
   python manage.py create_test_superuser
   ```
   
   По умолчанию создается пользователь:
   - **Имя:** `admin`
   - **Пароль:** `admin123`
   - **Email:** `admin@example.com`
   
   Для создания пользователя с другими данными:
   ```sh
   python manage.py create_test_superuser --username testuser --password testpass123 --email test@example.com
   ```

6. Запустите сервер разработки
   ```sh
   python manage.py runserver
   ```

7. Откройте в браузере:
   - Главная страница: http://127.0.0.1:8000/films/list/
   - Админ-панель: http://127.0.0.1:8000/admin-panel-secure/

<p align="right">(<a href="#readme-top">back to top</a>)</p>



<!-- USAGE EXAMPLES -->
## Использование

Приложение предоставляет следующие страницы и функциональность:

### Основные страницы:

1. **Список фильмов** (`/films/list/`)
   - Отображает все фильмы из базы данных
   - Доступна всем пользователям без авторизации
   - Показывает название, описание и отзыв для каждого фильма

2. **Добавление фильма** (`/films/add/`)
   - Форма для добавления нового фильма
   - Требуется авторизация
   - Включает валидацию данных
   - Защищена от злоупотреблений (rate limiting: 10 запросов в час)

3. **Вход в систему** (`/films/login/`)
   - Страница авторизации пользователей
   - Защищена от брутфорс атак (rate limiting: 5 попыток в минуту)
   - Логирование всех попыток входа

4. **Админ-панель** (`/admin-panel-secure/`)
   - Стандартная Django админ-панель
   - URL изменен для повышения безопасности
   - Полный доступ к управлению данными

### Безопасность:

- Валидация данных на уровне модели и формы
- Защита от XSS атак через санитизацию HTML
- Rate limiting для критических операций
- Логирование событий безопасности
- Настроенные заголовки безопасности

<p align="right">(<a href="#readme-top">back to top</a>)</p>



<!-- ROADMAP -->
## План развития

<details>
  <summary><strong>Показать пройденные этапы разработки</strong></summary>

### Выполненные этапы:

- [x] **Этап 1: Базовая структура проекта**
  - [x] Создание Django проекта `movie_project`
  - [x] Создание приложения `films`
  - [x] Настройка базовой структуры URL и маршрутизации

- [x] **Этап 2: Модель данных**
  - [x] Разработка модели `Film` с полями: название, описание, отзыв
  - [x] Создание и применение миграций базы данных
  - [x] Добавление полей `created_at` и `updated_at` для отслеживания времени

- [x] **Этап 3: Базовые представления и шаблоны**
  - [x] Реализация представления для отображения списка фильмов
  - [x] Создание HTML шаблонов для списка фильмов
  - [x] Настройка базового шаблона с навигацией

- [x] **Этап 4: Система аутентификации**
  - [x] Реализация страницы входа пользователей
  - [x] Реализация функционала выхода из системы
  - [x] Настройка декораторов для защиты страниц, требующих авторизации
  - [x] Настройка редиректов после входа/выхода

- [x] **Этап 5: Функционал добавления фильмов**
  - [x] Создание формы `FilmForm` для добавления фильмов
  - [x] Реализация представления для обработки формы
  - [x] Создание HTML шаблона формы добавления

- [x] **Этап 6: Валидация данных**
  - [x] Реализация валидации на уровне модели (метод `clean()`)
  - [x] Реализация валидации на уровне формы (методы `clean_*()`)
  - [x] Проверка минимальной и максимальной длины полей
  - [x] Базовая защита от опасных символов

- [x] **Этап 7: Защита от XSS атак**
  - [x] Интеграция библиотек `django-bleach` и `bleach`
  - [x] Санитизация HTML контента в формах
  - [x] Удаление HTML тегов через `strip_tags()`
  - [x] Проверка на опасные паттерны (script, javascript:, onerror, onload)

- [x] **Этап 8: Rate Limiting (ограничение частоты запросов)**
  - [x] Интеграция библиотеки `django-ratelimit`
  - [x] Ограничение попыток входа (5 попыток в минуту)
  - [x] Ограничение добавления фильмов (10 запросов в час)
  - [x] Обработка превышения лимитов с информативными сообщениями

- [x] **Этап 9: Логирование безопасности**
  - [x] Настройка системы логирования в `settings.py`
  - [x] Создание отдельного логгера для событий безопасности
  - [x] Логирование успешных и неудачных попыток входа
  - [x] Логирование превышения лимитов и ошибок валидации
  - [x] Настройка файлов логов (`django.log`, `security.log`)

- [x] **Этап 10: Настройки безопасности**
  - [x] Настройка заголовков безопасности (XSS Protection, Content Type Nosniff, Frame Options)
  - [x] Настройка безопасности сессий (HttpOnly, Secure, SameSite)
  - [x] Настройка CSRF защиты
  - [x] Настройка HSTS для продакшена
  - [x] Базовая настройка Content Security Policy

- [x] **Этап 11: Управление настройками через переменные окружения**
  - [x] Интеграция библиотеки `python-decouple`
  - [x] Вынос секретных ключей в переменные окружения
  - [x] Настройка `SECRET_KEY`, `DEBUG`, `ALLOWED_HOSTS` через `.env`

- [x] **Этап 12: Улучшение пользовательского интерфейса**
  - [x] Интеграция Bootstrap 5.3 для современного дизайна
  - [x] Создание адаптивной навигационной панели
  - [x] Улучшение форм с CSS-классами Bootstrap
  - [x] Отображение статуса пользователя в навигации

- [x] **Этап 13: Админ-панель**
  - [x] Настройка Django админ-панели для модели Film
  - [x] Добавление фильтров и поиска в админ-панели
  - [x] Изменение стандартного URL админ-панели на `/admin-panel-secure/`
  - [x] Настройка заголовков админ-панели

- [x] **Этап 14: Кастомные команды управления**
  - [x] Создание команды `create_test_superuser` для быстрого создания тестового пользователя
  - [x] Реализация поддержки аргументов командной строки
  - [x] Добавление проверки существования пользователя

- [x] **Этап 15: Локализация**
  - [x] Настройка русского языка интерфейса
  - [x] Перевод названий полей моделей на русский
  - [x] Русские сообщения об ошибках валидации

- [x] **Этап 16: Документация**
  - [x] Создание подробного README.md с описанием проекта
  - [x] Добавление инструкций по установке и настройке
  - [x] Описание функциональности и страниц приложения
  - [x] Документирование настроек безопасности
  - [x] Описание используемых технологий и зависимостей

</details>

### Планируемые улучшения:

- [ ] Добавление функционала редактирования фильмов
- [ ] Добавление функционала удаления фильмов
- [ ] Реализация системы категорий фильмов
- [ ] Добавление возможности загрузки изображений для фильмов
- [ ] Реализация системы рейтингов фильмов
- [ ] Добавление пагинации для списка фильмов
- [ ] Реализация полнотекстового поиска
- [ ] Добавление API endpoints (REST API)
- [ ] Написание unit-тестов
- [ ] Настройка CI/CD pipeline

<p align="right">(<a href="#readme-top">back to top</a>)</p>



<!-- CONTRIBUTING -->
## Вклад в проект

Вклады делают сообщество открытого исходного кода таким удивительным местом для обучения, вдохновения и творчества. Любые ваши вклады будут **высоко оценены**.

Если у вас есть предложения по улучшению, пожалуйста, создайте fork репозитория и отправьте pull request. Вы также можете просто открыть задачу с тегом «enhancement». Не забудьте поставить проекту звездочку! Еще раз спасибо!

1. Создать fork проекта
2. Создайте ветку для вашей функции (`git checkout -b feature/AmazingFeature`)
3. Зафиксируйте изменения (`git commit -m 'Add some AmazingFeature'`)
4. Отправьте изменения в ветку (`git push origin feature/AmazingFeature`)
5. Создайте Pull Request

<p align="right">(<a href="#readme-top">back to top</a>)</p>



<!-- LICENSE -->
## Лицензия

Распространяется по лицензии MIT. Дополнительную информацию см. в файле `LICENSE`.

<p align="right">(<a href="#readme-top">back to top</a>)</p>



<!-- CONTACT -->
## Контакты

<p align="right">(<a href="#readme-top">back to top</a>)</p>



<!-- ACKNOWLEDGMENTS -->
## Благодарности

<p align="right">(<a href="#readme-top">back to top</a>)</p>



<!-- MARKDOWN LINKS & IMAGES -->
<!-- https://www.markdownguide.org/basic-syntax/#reference-style-links -->
[Django-badge]: https://img.shields.io/badge/Django-092E20?style=for-the-badge&logo=django&logoColor=white
[Django-url]: https://www.djangoproject.com/
[Python-badge]: https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white
[Python-url]: https://www.python.org/
